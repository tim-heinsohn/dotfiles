#!/bin/bash
set -euo pipefail

DOTFILES_DIR=${DOTFILES_DIR:-~/dotfiles}
echo "Rails Active MCP integrates with your Rails app (not Claude Code directly)."
cat <<'EOF'

To use Rails Active MCP:
1. Run: mcp install rails-active-mcp
2. Add gem 'rails-active-mcp' to your Rails app's Gemfile
3. Run: bundle install
4. Run: rails generate rails_active_mcp:install
5. Configure security in config/initializers/rails_active_mcp.rb
6. Start your Rails server â€“ MCP available at /mcp

See: ~/dotfiles/rails-active-mcp/doc/usage.md for details.
EOF

# Optional: add HTTP MCP entry to Codex (disabled by default)
# Uncomment to register your running Rails app MCP endpoint with Codex
# "$DOTFILES_DIR/bin/codex-mcp" upsert rails-active-mcp <<EOF
# [mcp.servers.rails-active-mcp]
# transport = "http"
# url = "http://localhost:3000/mcp"
# EOF
