# Proposal: dotfiles-structure-reorganization

## Why

The repository has grown organically resulting in structural confusion:
- Root-level directories (`git/`, `shell/`, `nvim/`, `zsh/`) are exact copies of `.dots/` directories
- `.dots/` is generated by Bombadil with template rendering, but this relationship is unclear
- Multiple locations for similar content (e.g., multiple AGENTS.md files)
- Service setup scripts scattered across root-level directories

This makes the repository difficult to navigate and maintain.

## What Changes

### Directory Structure Changes

1. **Clarify .dots/ vs root directories**
   - Document the relationship: `.dots/` = Bombadil-rendered templates, root = original sources
   - Add clear README in `.dots/` explaining its purpose
   - Consider renaming or reorganizing to reduce confusion

2. **Organize service setup scripts**
   - Move `acli/`, `acpi/`, `caddy/`, `docker/`, `mariadb/`, `postgresql/`, `traefik/` to `services/`
   - Rename `aur/` to `setup-scripts/` (contains yay installer - not a service, but a setup/install script)
   - Group all setup/install scripts in one place subdirectory
   - Each service gets: `services/<name>/setup` (or rename to consistent pattern)

3. **Create clear project structure**
   - Define and document the directory structure convention
   - Add README at root explaining each top-level directory purpose

4. **Separate concerns**
   - Keep bombadil-managed configs in `.dots/`
   - Keep standalone scripts/utilities in `bin/` or `utils/`
   - Keep research/temp files in `doc/research/` or mark as temp

### Breaking Changes

- **Path changes**: Service setup directories will move (requires updating any external references)

## Impact

- Affected directories: `git/`, `shell/`, `nvim/`, `zsh/`, `.dots/`, `acli/`, `acpi/`, `aur/`, `caddy/`, `docker/`, `mariadb/`, `postgresql/`, `traefik/`
- Bombadil configuration (`bombadil.toml`) may need updates for path changes
- Documentation needs update to reflect new structure

## Open Questions

1. Should root-level directories be removed entirely (keep only `.dots/`)?
2. How should we handle backward compatibility with existing symlinks?
3. Should service setup scripts be consolidated into a single pattern or keep individual approaches?
